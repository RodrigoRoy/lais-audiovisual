% Preamble
\documentclass[10pt,letterpaper]{article}
\usepackage[spanish]{babel}

% Packages
\selectlanguage{spanish}
\usepackage[utf8]{inputenc} % For spanish (and international) letters like acents.
\usepackage{hyperref} % To create hyperlinks within the document.
\usepackage{graphicx} % To include graphics (pictures, images)
\usepackage{float} % For the use of the parameter "H" in command "\begin{figure}[H]" (i.e. exact position of image in text)
\usepackage{tabularx} % Similar to tabular* environment, for width and stretching in tables
\usepackage{tabulary} % Another similar to tabular* environment, for width and stretching in tables
%\usepackage[textwidth=\textwidth]{geometry} % To change textwidth in some place of the document
\usepackage[table]{xcolor} % Color in cell [http://ctan.org/pkg/xcolor]
\definecolor{NewBlue}{RGB}{102, 153, 255}
\usepackage[strict]{changepage} % Allow to change margins (like \textwidth). 
% By the way, about page size and margins: https://www.sharelatex.com/learn/Page_size_and_margins

% Document environment
\begin{document}

% Top matter
\title{Documentación de los Requerimientos del Sistema de apoyo a la catalogación de archivos audiovisuales del LAIS}
\author{Rodrigo Eduardo Colín Rivera, Sergio Amaro Rosas}
\date{\today}
\maketitle

\setcounter{secnumdepth}{0} % Non-numbering sections
\setcounter{tocdepth}{0} % Non-numnbering table of contents
\graphicspath{{../Diagramas/}{../Screenshots}} % Path of the folder containing the images

\begin{abstract}
La siguiente documentación tiene como objetivo \ldots
\end{abstract}

\section{Enunciado del problema}

\section{Diagrama general de casos de uso}
\begin{figure}[H]
	\centering
	\includegraphics[width=0.8\textwidth]{CasosDeUso.png}
	\caption{Diagrama de casos de uso}
	\label{fig:caso_de_uso}
\end{figure}

\section{Casos de uso detallados, casos de prueba, prototipo de interfaz}

\subsection{Caso consultar información de archivo audiovisual}
% Actor
\textbf{Actor:} Usuario visitante

% Imagen del diagrama específica del caso
\begin{figure}[H]
	\centering
	\includegraphics[width=0.8\textwidth]{CasoDeUsoDetalladoVisitanteConsultarRegistro.png}
\end{figure}

% Descripción
\textbf{Descipción: } Acción que permite mostrar la información completa de un archivo audiovisual cuya portada es mostrada en pantalla.

% Precondiciones
\textbf{Precondiciones:} Estar en alguna de las páginas que muestra los archivos audiovisuales por década.

% Flujo Normal de Eventos (tabla)
\begin{adjustwidth}{-6em}{-6em}
	\begin{center}
		\begin{tabularx}{1.2\textwidth}{ | p{0.7cm} | X | p{0.7cm} | X | p{1.5cm} | }
			\hline
			\rowcolor{NewBlue} \multicolumn{5}{|c|}{\textbf{Flujo normal de eventos}} \\
			\hline
			\multicolumn{2}{|c|}{\textbf{Actor(es)}}	&	\multicolumn{2}{c|}{\textbf{Sistema}}	&	\textbf{Alterno} \\
			\hline
			\textbf{Paso}	&	\textbf{Acción}	&	\textbf{Paso}	&	\textbf{Acción}	&	\textbf{ID} \\
			\hline
			1 & 
			Dar clic en la portada del audiovisual que se desea ver &
			2 &
			El sistema pide todos los datos del audiovisual a la base de datos &
			E1 \\
			\hline
			& 
			&
			3 &
			El sistema muestra una ventana emergente con toda la información del audiovisual. & 
			A1 \\
			\hline
		\end{tabularx}
	\end{center}
\end{adjustwidth}

% Flujo Alterno (en caso de ser necesario)
\begin{adjustwidth}{-6em}{-6em}
	\begin{center}
		\begin{tabularx}{1.2\textwidth}{ | p{0.6cm} | X | X | }
			\hline
			\rowcolor{NewBlue} \multicolumn{3}{|c|}{\textbf{Flujo alterno de eventos}} \\
			\hline
			\textbf{ID}	&	\textbf{Descripción}	&	\textbf{Acción} \\
			\hline
			A1 &
			El usuario da clic en el botón de ``Ver más'' para ver información específica del archivo audiovisual &
			El sistema muestra en la parte inferior toda la información disponible del archivo audiovisual separada por áreas.
			\\
			\hline
		\end{tabularx}
	\end{center}
\end{adjustwidth}

% Flujo de Excepcion de Eventos (tabla)
\begin{adjustwidth}{-6em}{-6em}
	\begin{center}
		\begin{tabularx}{1.2\textwidth}{ | p{0.6cm} | X | X | }
			\hline
			\rowcolor{NewBlue} \multicolumn{3}{|c|}{\textbf{Flujo excepcional de eventos}} \\
			\hline
			\textbf{ID}	&	\textbf{Descripción}	&	\textbf{Acción} \\
			\hline
			E1 &
			No hay conexión con la base de datos. &
			El sistema devuelve un mensaje de error de conexión.
			\\
			\hline
		\end{tabularx}
	\end{center}
\end{adjustwidth}

% Post-condiciones
\textbf{Postcondiciones:} El entorno de la página se oscurece para dar enfoque a la información completa del archivo audiovisual.

% Casos de prueba para flujo normal (tabla) y su prototipo (imagen)
%\begin{figure}[H]
%	\centering
%	\includegraphics[width=0.8\textwidth]{imagen.png}
%\end{figure}

\begin{adjustwidth}{-6em}{-6em}
	\begin{center}
		\begin{tabularx}{1.2\textwidth}{ | X | X | }
			\hline
			\rowcolor{NewBlue} \multicolumn{2}{|c|}{\textbf{Casos de prueba (Flujo normal)}} \\
			\hline
			\textbf{Entradas}	&	\textbf{Resultado esperado} \\
			\hline
			Clic en una portada de audiovisual. &
			Mostrar el contenido completo del archivo audiovisual seleccionado.
			\\
			\hline
		\end{tabularx}
	\end{center}
\end{adjustwidth}

% Casos de prueba (Flujo alterno de eventos) [cuando es necesario]

%\begin{figure}[H]
%	\centering
%	\includegraphics[width=0.8\textwidth]{imagen.png}
%\end{figure}

\begin{adjustwidth}{-6em}{-6em}
	\begin{center}
		\begin{tabularx}{1.2\textwidth}{ | p{0.6cm} | X | X | }
			\hline
			\rowcolor{NewBlue} \multicolumn{3}{|c|}{\textbf{Caso de prueba (Flujo alterno)}} \\
			\hline
			\textbf{ID}	&	\textbf{Entrada}	&	\textbf{Resultado esperado} \\
			\hline
			A1 &
			Clic en el botón de ``Ver más''. &
			El sistema muestra en la parte inferior toda la información disponible del archivo audiovisual separada por áreas.
			\\
			\hline
		\end{tabularx}
	\end{center}
\end{adjustwidth}

% Casos de prueba para excepción de eventos (tabla) y su prototipo (imagen)
%\begin{figure}[H]
%	\centering
%	\includegraphics[width=0.8\textwidth]{imagen.png}
%\end{figure}

\begin{adjustwidth}{-6em}{-6em}
	\begin{center}
		\begin{tabularx}{1.2\textwidth}{ | p{0.6cm} | X | X | }
			\hline
			\rowcolor{NewBlue} \multicolumn{3}{|c|}{\textbf{Caso de prueba (Flujo excepcional)}} \\
			\hline
			\textbf{ID}	&	\textbf{Entrada}	&	\textbf{Resultado esperado} \\
			\hline
			E1 &
			Clic en una portada de audiovisual. &
			El sistema devuelve un mensaje de error de conexión.
			\\
			\hline
		\end{tabularx}
	\end{center}
\end{adjustwidth}

% El formato anterior se repite como subseccion para cada caso de uso


\end{document}