<!DOCTYPE html>
<html ng-app="crud">
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <!--<link rel="stylesheet" href="isteven-multi-select.css">-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>	
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
	<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
	<script src="controller.js"></script>
	<!--<script src="isteven-multi-select.js"></script>-->
</head>

<body>
	<div class="container" ng-controller="mainCtrl">
		<div class="page-header">
			<h1>AngularJS + MySQL</h1>
		</div>

		<h2>Agregar/Editar</h2>
		<form role="form">
			<div class="form-group">
				<label for="nombre">Nombre:</label>
				<input type="text" class="form-control" ng-model="nombre" id="nombre">
			</div>
			<div class="form-group">
				<label for="correo">E-mail:</label>
				<input type="email" class="form-control" ng-model="correo" id="correo">
			</div>
			<div class="form-group">
				<label for="colores">Colores</label>
				<select class="form-control" ng-model="colores" size="6" id="colores" multiple>
					<option value="rojo">Rojo</option>
					<option value="verde">Verde</option>
					<option value="azul">Azul</option>
					<option value="amarillo">Amarillo</option>
					<option value="blanco">Blanco</option>
					<option value="negro">Negro</option>
				</select>
			</div>
			<!--<div class="form-group">
				<label for="colores">Colores:</label>
				<div
				    isteven-multi-select
				    input-model="colores"
				    output-model="outputColores"
				    button-label="name"
				    item-label="name"
				    tick-property="ticked"
				    id="colores"
				>
				</div>
			</div>-->
			<button type="submit" class="btn btn-default" ng-click="enviar()" ng-show="!edit">Enviar</button>
			<button type="submit" class="btn btn-default" ng-click="actualizar(nombre)" ng-hide="!edit">Actualizar</button>
			<!--<p>{{outputColores}}</p>-->
			<!--<p>{{colores}}</p>-->
		</form>

		<h2>Usuarios</h2>
		<table class="table table-striped">
			<thead>
				<tr>
					<th>Nombre</th>
					<th>Correo</th>
					<th>Color(es)</th>
					<th>Editar</th>
					<th>Borrar</th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="registro in datos">
					<td>{{registro.nombre_usuario}}</td>
					<td>{{registro.correo_electronico}}</td>
					<td>{{registro.colores_favoritos}}</td>
					<td>
						<button class="btn btn-default" ng-click="editar(registro.nombre_usuario)"><span class="glyphicon glyphicon-pencil"></span></button>
					</td>
					<td>
						<button class="btn btn-danger" ng-click="eliminar(registro.nombre_usuario)"><span class="glyphicon glyphicon-remove"></span></button>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
</body>
</html>